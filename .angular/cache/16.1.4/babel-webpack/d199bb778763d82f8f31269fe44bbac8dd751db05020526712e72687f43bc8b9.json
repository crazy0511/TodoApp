{"ast":null,"code":"import { Subject, map, takeUntil } from 'rxjs';\nimport { Filter } from 'src/app/models/filter.model';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/todo.service\";\nimport * as i2 from \"@angular/common\";\nconst _c0 = function (a0) {\n  return {\n    active: a0\n  };\n};\nfunction FooterComponent_button_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"button\", 5);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const btn_r1 = ctx.$implicit;\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(2, _c0, btn_r1.isActive));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", btn_r1.label, \" \");\n  }\n}\nconst _c1 = function (a0) {\n  return {\n    \"visible\": a0\n  };\n};\nexport class FooterComponent {\n  constructor(todoService) {\n    this.todoService = todoService;\n    this.filterButtons = [{\n      type: Filter.All,\n      label: 'All',\n      isActive: true\n    }, {\n      type: Filter.Active,\n      label: 'Active',\n      isActive: false\n    }, {\n      type: Filter.Completed,\n      label: 'Completed',\n      isActive: false\n    }];\n    this.length = 0;\n    this.destroy$ = new Subject();\n  }\n  ngOnInit() {\n    //takeUntil\n    this.hasCompletes$ = this.todoService.todo$.pipe(map(todos => todos.some(t => t.isCompleted)), takeUntil(this.destroy$));\n    this.todoService.length$.pipe(takeUntil(this.destroy$)).subscribe(length => {\n      this.length = length;\n    });\n  }\n  // Destroy khi không có Task nào\n  ngOnDestroy() {\n    this.destroy$.next;\n    this.destroy$.complete();\n  }\n}\nFooterComponent.ɵfac = function FooterComponent_Factory(t) {\n  return new (t || FooterComponent)(i0.ɵɵdirectiveInject(i1.TodoService));\n};\nFooterComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: FooterComponent,\n  selectors: [[\"app-footer\"]],\n  decls: 9,\n  vars: 8,\n  consts: [[1, \"footer\", \"w-100\"], [1, \"h-100\", \"position-absolute\", \"d-flex\", \"justify-content-between\", \"align-items-center\", 2, \"top\", \"0\", \"bottom\", \"0\", \"left\", \"0\", \"right\", \"0\"], [1, \"items-count\"], [\"type\", \"button\", \"class\", \"filter-btn\", 3, \"ngClass\", 4, \"ngFor\", \"ngForOf\"], [1, \"filter-btn\", \"clear-completed-btn\", 3, \"ngClass\"], [\"type\", \"button\", 1, \"filter-btn\", 3, \"ngClass\"]],\n  template: function FooterComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"span\", 2);\n      i0.ɵɵtext(3);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"div\");\n      i0.ɵɵtemplate(5, FooterComponent_button_5_Template, 2, 4, \"button\", 3);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(6, \"button\", 4);\n      i0.ɵɵpipe(7, \"async\");\n      i0.ɵɵtext(8, \"Clear Completed\");\n      i0.ɵɵelementEnd()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(3);\n      i0.ɵɵtextInterpolate2(\" \", ctx.length, \" item \", ctx.length > 1 ? \"s\" : \"\", \" \");\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngForOf\", ctx.filterButtons);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(6, _c1, i0.ɵɵpipeBind1(7, 4, ctx.hasCompletes$)));\n    }\n  },\n  dependencies: [i2.NgClass, i2.NgForOf, i2.AsyncPipe],\n  styles: [\".footer[_ngcontent-%COMP%]{\\n    position: relative;\\n    height: 40px;\\n    border-top: 1px solid rgba(0, 0, 0, 0.1);\\n}\\n\\n.footer[_ngcontent-%COMP%]:before{\\n    content: '';\\n    position: absolute;\\n    right: 0;\\n    bottom: 0;\\n    left: 0;\\n    height: 50px;\\n    overflow: hidden;\\n    box-shadow: 0 1px 1px rgba(0, 0, 0, 0.2),\\n    0 8px 0 -3px #f6f6f6,\\n    0 9px 1px -3px rgba(0, 0, 0, 0.2),\\n    0 16px 0 -6px #f6f6f6,\\n    0 17px 2px -6px rgba(0, 0, 0, 0.2),;\\n}\\n\\n.filter-btn[_ngcontent-%COMP%]{\\n    padding: 5px;\\n    border-radius: 0.25rem;\\n    transition: 250ms all ease-in-out;\\n    outline: none;\\n    cursor: pointer;\\n    margin-right: white;\\n    border: 1px solid white;\\n}\\n\\n.filter-btn[_ngcontent-%COMP%]:hover{\\n    border-color: burlywood;\\n}\\n\\n.filter-btn.active[_ngcontent-%COMP%]{\\n    border-color: burlywood;\\n}\\n\\n.clear-completed-btn[_ngcontent-%COMP%]{\\n    visibility: hidden;\\n}\\n\\n.clear-completed-btn.visible[_ngcontent-%COMP%]{\\n    visibility: visible;\\n}\\n\\n.items-count[_ngcontent-%COMP%]{\\n    padding-left: 10px;\\n}\\n\\n\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9mb290ZXIvZm9vdGVyLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxrQkFBa0I7SUFDbEIsWUFBWTtJQUNaLHdDQUF3QztBQUM1Qzs7QUFFQTtJQUNJLFdBQVc7SUFDWCxrQkFBa0I7SUFDbEIsUUFBUTtJQUNSLFNBQVM7SUFDVCxPQUFPO0lBQ1AsWUFBWTtJQUNaLGdCQUFnQjtJQUNoQjs7Ozt1Q0FJbUM7QUFDdkM7O0FBRUE7SUFDSSxZQUFZO0lBQ1osc0JBQXNCO0lBQ3RCLGlDQUFpQztJQUNqQyxhQUFhO0lBQ2IsZUFBZTtJQUNmLG1CQUFtQjtJQUNuQix1QkFBdUI7QUFDM0I7O0FBRUE7SUFDSSx1QkFBdUI7QUFDM0I7O0FBRUE7SUFDSSx1QkFBdUI7QUFDM0I7O0FBRUE7SUFDSSxrQkFBa0I7QUFDdEI7O0FBRUE7SUFDSSxtQkFBbUI7QUFDdkI7O0FBRUE7SUFDSSxrQkFBa0I7QUFDdEIiLCJzb3VyY2VzQ29udGVudCI6WyIuZm9vdGVye1xyXG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG4gICAgaGVpZ2h0OiA0MHB4O1xyXG4gICAgYm9yZGVyLXRvcDogMXB4IHNvbGlkIHJnYmEoMCwgMCwgMCwgMC4xKTtcclxufVxyXG5cclxuLmZvb3RlcjpiZWZvcmV7XHJcbiAgICBjb250ZW50OiAnJztcclxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgIHJpZ2h0OiAwO1xyXG4gICAgYm90dG9tOiAwO1xyXG4gICAgbGVmdDogMDtcclxuICAgIGhlaWdodDogNTBweDtcclxuICAgIG92ZXJmbG93OiBoaWRkZW47XHJcbiAgICBib3gtc2hhZG93OiAwIDFweCAxcHggcmdiYSgwLCAwLCAwLCAwLjIpLFxyXG4gICAgMCA4cHggMCAtM3B4ICNmNmY2ZjYsXHJcbiAgICAwIDlweCAxcHggLTNweCByZ2JhKDAsIDAsIDAsIDAuMiksXHJcbiAgICAwIDE2cHggMCAtNnB4ICNmNmY2ZjYsXHJcbiAgICAwIDE3cHggMnB4IC02cHggcmdiYSgwLCAwLCAwLCAwLjIpLDtcclxufVxyXG5cclxuLmZpbHRlci1idG57XHJcbiAgICBwYWRkaW5nOiA1cHg7XHJcbiAgICBib3JkZXItcmFkaXVzOiAwLjI1cmVtO1xyXG4gICAgdHJhbnNpdGlvbjogMjUwbXMgYWxsIGVhc2UtaW4tb3V0O1xyXG4gICAgb3V0bGluZTogbm9uZTtcclxuICAgIGN1cnNvcjogcG9pbnRlcjtcclxuICAgIG1hcmdpbi1yaWdodDogd2hpdGU7XHJcbiAgICBib3JkZXI6IDFweCBzb2xpZCB3aGl0ZTtcclxufVxyXG5cclxuLmZpbHRlci1idG46aG92ZXJ7XHJcbiAgICBib3JkZXItY29sb3I6IGJ1cmx5d29vZDtcclxufVxyXG5cclxuLmZpbHRlci1idG4uYWN0aXZle1xyXG4gICAgYm9yZGVyLWNvbG9yOiBidXJseXdvb2Q7XHJcbn1cclxuXHJcbi5jbGVhci1jb21wbGV0ZWQtYnRue1xyXG4gICAgdmlzaWJpbGl0eTogaGlkZGVuO1xyXG59XHJcblxyXG4uY2xlYXItY29tcGxldGVkLWJ0bi52aXNpYmxle1xyXG4gICAgdmlzaWJpbGl0eTogdmlzaWJsZTtcclxufVxyXG5cclxuLml0ZW1zLWNvdW50e1xyXG4gICAgcGFkZGluZy1sZWZ0OiAxMHB4O1xyXG59XHJcblxyXG4iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n});","map":{"version":3,"names":["Subject","map","takeUntil","Filter","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵproperty","ɵɵpureFunction1","_c0","btn_r1","isActive","ɵɵadvance","ɵɵtextInterpolate1","label","FooterComponent","constructor","todoService","filterButtons","type","All","Active","Completed","length","destroy$","ngOnInit","hasCompletes$","todo$","pipe","todos","some","t","isCompleted","length$","subscribe","ngOnDestroy","next","complete","ɵɵdirectiveInject","i1","TodoService","selectors","decls","vars","consts","template","FooterComponent_Template","rf","ctx","ɵɵtemplate","FooterComponent_button_5_Template","ɵɵtextInterpolate2","_c1","ɵɵpipeBind1"],"sources":["D:\\Data\\TTS_Angular\\ToDoApp\\angular_todoapp\\src\\app\\components\\footer\\footer.component.ts","D:\\Data\\TTS_Angular\\ToDoApp\\angular_todoapp\\src\\app\\components\\footer\\footer.component.html"],"sourcesContent":["import { Component, OnDestroy, OnInit } from '@angular/core';\nimport { Observable, Subject, map, takeUntil } from 'rxjs';\nimport { Filter, FilterButton } from 'src/app/models/filter.model';\nimport { TodoService } from 'src/app/services/todo.service';\n\n@Component({\n  selector: 'app-footer',\n  templateUrl: './footer.component.html',\n  styleUrls: ['./footer.component.css']\n})\nexport class FooterComponent implements OnInit, OnDestroy{\n  filterButtons: FilterButton[] = [\n    {type: Filter.All, label: 'All', isActive: true},\n    {type: Filter.Active, label: 'Active', isActive: false},\n    {type: Filter.Completed, label: 'Completed', isActive: false},\n  ]\n\n  length = 0;\n  hasCompletes$!: Observable<boolean>;\n  destroy$: Subject<null> = new Subject<null>();\n\n  constructor(private todoService: TodoService){\n\n  }\n\n  ngOnInit(){\n    //takeUntil\n    this.hasCompletes$ = this.todoService.todo$.pipe(\n      map(todos => todos.some(t => t.isCompleted)),\n      takeUntil(this.destroy$)\n    );\n\n    this.todoService.length$.pipe(takeUntil(this.destroy$))\n      .subscribe(length => {\n        this.length = length;\n      })\n\n  }\n\n  // Destroy khi không có Task nào\n  ngOnDestroy(){\n      this.destroy$.next;\n      this.destroy$.complete();\n  }\n}\n\n","<div class=\"footer w-100\">\n  <div\n    class=\"h-100 position-absolute d-flex justify-content-between align-items-center\"\n    style=\"top: 0; bottom: 0; left: 0; right: 0\"\n  >\n    <span class=\"items-count\">\n      {{ length }} item {{ length > 1 ? \"s\" : \"\" }}\n    </span>\n\n    <div>\n      <button\n        type=\"button\" class=\"filter-btn\"\n        *ngFor=\"let btn of filterButtons\"\n        [ngClass]=\"{ active: btn.isActive }\"\n      >\n        {{ btn.label }}\n      </button>\n    </div>\n    <button class=\"filter-btn clear-completed-btn\" [ngClass]=\"{'visible': hasCompletes$ | async}\">Clear Completed</button>\n  </div>\n</div>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}